<!DOCTYPE html>
	<html lang="en">
	<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="./style.css">
		<title>Document</title>
	</head>
	<body>
	<form>
		<p>Service<input type="text" id="service"></p>
		<p>Charge<input type="number" id="charge"></p>
		<p>AccountNum<input type="text" id="accountNum"></p>
		<p>Due<input type="date" id="due"></p>
		<p><input type="button" value="DODAJ" id="sendData"></p>
	</form>
    <input type="button" value="exit" id="btnExit">
    <input type="button" value="test" id="t">
    <script>
        document.addEventListener('astilectron-ready', function(){
			btnExit.addEventListener('click', function(){
				astilectron.sendMessage("exit");
			});

			sendData.addEventListener('click', ()=>{
				const data = { 
					service: service.value,
					charge: charge.value,
					accountNum: accountNum.value,
					due: due.value
				};
	
				fetch('http://localhost:8080/addData', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/json',
					},
					body: JSON.stringify(data),
				}).then((response) => response.json())
				.catch((error)=>{
					console.error('Error:', error);
				})
			})
		})
    </script>
	</body>
	</html>
	</body>
	</html>